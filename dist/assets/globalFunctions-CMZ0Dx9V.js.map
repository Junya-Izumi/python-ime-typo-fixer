{"version":3,"file":"globalFunctions-CMZ0Dx9V.js","sources":["../../src/ts/globalFunctions.ts"],"sourcesContent":["const debug:boolean = true;\r\n\r\n//短縮化\r\nconst qs = (selector: string, parent = document): Element | null => parent.querySelector(selector);\r\nconst qsAll = (selector: string, parent = document): NodeListOf<Element> | null => parent.querySelectorAll(selector);\r\n\r\nconst init = async ()=>{\r\n    if (!globalThis.python_ime_typo_fixer) {\r\n    globalThis.python_ime_typo_fixer = {\r\n        // setting:await getSetting() as ExtensionSetting,\r\n        setting:undefined,\r\n        functions:{\r\n            isExtensionSetting:function(value:unknown):value is ExtensionSetting{\r\n                return (\r\n                    value != null &&\r\n                    typeof value === \"object\" &&\r\n                    'isActive' in value &&\r\n                    typeof value.isActive == \"boolean\"\r\n                );\r\n            }\r\n        }\r\n    }\r\n    if (debug) console.log(\"pythone_ime_typo_fixer:init\",globalThis.python_ime_typo_fixer)\r\n}}\r\nconst getSetting = () => new Promise((resolve) => {\r\n    return chrome.storage.local.get([\"setting\"], (result) => {\r\n        if (debug) console.log(\"python_ime_typo_fixer:getSetting\",result[\"setting\"]) \r\n        resolve(result[\"setting\"])}\r\n    ) \r\n});\r\n//設定をglobalThisに入れる\r\nconst updateSetting = (setting: ExtensionSetting) => {\r\n    if (debug) console.log(\"python_ime_typo_fixer:updateSetting\", setting)\r\n    if (!globalThis.python_ime_typo_fixer) {\r\n        init()\r\n    }\r\n    globalThis.python_ime_typo_fixer.setting = setting\r\n}\r\n\r\nexport {\r\n    init,\r\n    qs,\r\n    qsAll,\r\n    getSetting,\r\n    updateSetting,\r\n    debug\r\n}"],"names":["debug","qs","selector","parent","document","querySelector","init","async","globalThis","python_ime_typo_fixer","setting","functions","isExtensionSetting","value","isActive","console","log","getSetting","Promise","resolve","chrome","storage","local","get","result","updateSetting"],"mappings":"AAAA,MAAMA,GAAgB,EAGhBC,EAAK,CAACC,EAAkBC,EAASC,WAA6BD,EAAOE,cAAcH,GAGnFI,EAAOC,UACJC,WAAWC,wBAChBD,WAAWC,sBAAwB,CAE/BC,aAAQ,EACRC,UAAU,CACNC,mBAAmB,SAASC,GACxB,OACa,MAATA,GACiB,iBAAVA,GACP,aAAcA,GACW,kBAAlBA,EAAMC,QAErB,IAGGC,QAAQC,IAAI,8BAA8BR,WAAWC,yBAE9DQ,EAAa,IAAM,IAAIC,QAASC,GAC3BC,OAAOC,QAAQC,MAAMC,IAAI,CAAC,WAAaC,IAC/BT,QAAQC,IAAI,mCAAmCQ,EAAgB,SAC1EL,EAAQK,EAAgB,YAI1BC,EAAiBf,IACRK,QAAQC,IAAI,sCAAuCN,GACzDF,WAAWC,uBACZH,IAEJE,WAAWC,sBAAsBC,QAAUA"}