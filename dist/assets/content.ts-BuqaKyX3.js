import{i as t,d as e,g as n,u as o}from"./globalFunctions-CMZ0Dx9V.js";t(),console.log("python_ime_typo_fixer:debug",e),(async()=>{const t=await n();o(t)})(),chrome.storage.onChanged.addListener((t,e)=>{if("local"===e&&t.setting){const e=t.setting.newValue;let n=globalThis.python_ime_typo_fixer.setting;if(globalThis.python_ime_typo_fixer.functions?.isExtensionSetting(n)){const t={...n,...e};console.log("python_ime_typo_fixer:newSetting",t),o(t)}}}),window.addEventListener("compositionend",t=>{const e=t.target;if(!globalThis.python_ime_typo_fixer.setting)return;if(!globalThis.python_ime_typo_fixer.setting.isActive)return;if(!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))return console.info("pyてょん to python: This field is not supported");const n=/((p|ｐ|P|Ｐ)(y|ｙ|Y|Ｙ)(て|手)ょん)/g;if(n.test(t.data)){const o=t.data.replace(n,"python"),i=e.selectionStart??0,s=e.selectionEnd??0;console.log({"e.target":t.target,"e.data":t.data,newText:o,start:i,end:s}),e.setRangeText(o,i-t.data.length,s,"end")}});
//# sourceMappingURL=content.ts-BuqaKyX3.js.map
