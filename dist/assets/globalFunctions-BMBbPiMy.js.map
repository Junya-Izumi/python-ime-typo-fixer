{"version":3,"file":"globalFunctions-BMBbPiMy.js","sources":["../../src/ts/globalFunctions.ts"],"sourcesContent":["const debug:boolean = false;\r\n\r\n//短縮化\r\nconst qs = (selector: string, parent = document): Element | null => parent.querySelector(selector);\r\nconst qsAll = (selector: string, parent = document): NodeListOf<Element> | null => parent.querySelectorAll(selector);\r\n\r\nconst init = async ()=>{\r\n    if (!globalThis.pythonImeTypoFixer) {\r\n    globalThis.pythonImeTypoFixer = {\r\n        // setting:await getSetting() as ExtensionSetting,\r\n        setting:undefined,\r\n        functions:{\r\n            isExtensionSetting:function(value:unknown):value is ExtensionSetting{\r\n                return (\r\n                    value != null &&\r\n                    typeof value === \"object\" &&\r\n                    'isActive' in value &&\r\n                    typeof value.isActive == \"boolean\"\r\n                );\r\n            }\r\n        }\r\n    }\r\n    if (debug) console.log(\"pythonImeTypoFixer:init\",globalThis.pythonImeTypoFixer)\r\n}}\r\nconst getSetting = () => new Promise((resolve) => {\r\n    return chrome.storage.local.get([\"setting\"], (result) => {\r\n        if (debug) console.log(\"pythonImeTypoFixer:getSetting\",result[\"setting\"]) \r\n        resolve(result[\"setting\"])}\r\n    ) \r\n});\r\n//設定をglobalThisに入れる\r\nconst updateSetting = (setting: ExtensionSetting) => {\r\n    if (debug) console.log(\"pythonImeTypoFixer:updateSetting\", setting)\r\n    if (!globalThis.pythonImeTypoFixer) {\r\n        init()\r\n    }\r\n    globalThis.pythonImeTypoFixer.setting = setting\r\n}\r\n\r\nexport {\r\n    init,\r\n    qs,\r\n    qsAll,\r\n    getSetting,\r\n    updateSetting,\r\n    debug\r\n}"],"names":["debug","qs","selector","parent","document","querySelector","init","async","globalThis","pythonImeTypoFixer","setting","functions","isExtensionSetting","value","isActive","getSetting","Promise","resolve","chrome","storage","local","get","result","updateSetting"],"mappings":"AAAA,MAAMA,GAAgB,EAGhBC,EAAK,CAACC,EAAkBC,EAASC,WAA6BD,EAAOE,cAAcH,GAGnFI,EAAOC,UACJC,WAAWC,qBAChBD,WAAWC,mBAAqB,CAE5BC,aAAQ,EACRC,UAAU,CACNC,mBAAmB,SAASC,GACxB,OACa,MAATA,GACiB,iBAAVA,GACP,aAAcA,GACW,kBAAlBA,EAAMC,QAErB,MAKNC,EAAa,IAAM,IAAIC,QAASC,GAC3BC,OAAOC,QAAQC,MAAMC,IAAI,CAAC,WAAaC,IAE1CL,EAAQK,EAAgB,YAI1BC,EAAiBb,IAEdF,WAAWC,oBACZH,IAEJE,WAAWC,mBAAmBC,QAAUA"}