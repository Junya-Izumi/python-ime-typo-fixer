{"version":3,"file":"globalFunctions-BMBbPiMy.js","sources":["../../src/ts/globalFunctions.ts"],"sourcesContent":["const debug:boolean = false;\n\n//短縮化\nconst qs = (selector: string, parent = document): Element | null => parent.querySelector(selector);\nconst qsAll = (selector: string, parent = document): NodeListOf<Element> | null => parent.querySelectorAll(selector);\n\nconst init = async ()=>{\n    if (!globalThis.pythonImeTypoFixer) {\n    globalThis.pythonImeTypoFixer = {\n        // setting:await getSetting() as ExtensionSetting,\n        setting:undefined,\n        functions:{\n            isExtensionSetting:function(value:unknown):value is ExtensionSetting{\n                return (\n                    value != null &&\n                    typeof value === \"object\" &&\n                    'isActive' in value &&\n                    typeof value.isActive == \"boolean\"\n                );\n            }\n        }\n    }\n    if (debug) console.log(\"pythonImeTypoFixer:init\",globalThis.pythonImeTypoFixer)\n}}\nconst getSetting = () => new Promise((resolve) => {\n    return chrome.storage.local.get([\"setting\"], (result) => {\n        if (debug) console.log(\"pythonImeTypoFixer:getSetting\",result[\"setting\"]) \n        resolve(result[\"setting\"])}\n    ) \n});\n//設定をglobalThisに入れる\nconst updateSetting = (setting: ExtensionSetting) => {\n    if (debug) console.log(\"pythonImeTypoFixer:updateSetting\", setting)\n    if (!globalThis.pythonImeTypoFixer) {\n        init()\n    }\n    globalThis.pythonImeTypoFixer.setting = setting\n}\n\nexport {\n    init,\n    qs,\n    qsAll,\n    getSetting,\n    updateSetting,\n    debug\n}"],"names":["debug","qs","selector","parent","document","querySelector","init","async","globalThis","pythonImeTypoFixer","setting","functions","isExtensionSetting","value","isActive","getSetting","Promise","resolve","chrome","storage","local","get","result","updateSetting"],"mappings":"AAAA,MAAMA,GAAgB,EAGhBC,EAAK,CAACC,EAAkBC,EAASC,WAA6BD,EAAOE,cAAcH,GAGnFI,EAAOC,UACJC,WAAWC,qBAChBD,WAAWC,mBAAqB,CAE5BC,aAAQ,EACRC,UAAU,CACNC,mBAAmB,SAASC,GACxB,OACa,MAATA,GACiB,iBAAVA,GACP,aAAcA,GACW,kBAAlBA,EAAMC,QAErB,MAKNC,EAAa,IAAM,IAAIC,QAASC,GAC3BC,OAAOC,QAAQC,MAAMC,IAAI,CAAC,WAAaC,IAE1CL,EAAQK,EAAgB,YAI1BC,EAAiBb,IAEdF,WAAWC,oBACZH,IAEJE,WAAWC,mBAAmBC,QAAUA"}